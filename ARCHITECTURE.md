# VibeConnect Architecture & Flow

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER INTERFACE                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Next.js Frontend (http://localhost:3000)                    â”‚   â”‚
â”‚  â”‚  - React Components                                          â”‚   â”‚
â”‚  â”‚  - RainbowKit Wallet Connection                              â”‚   â”‚
â”‚  â”‚  - TailwindCSS Styling                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP/REST API
                              â”‚ Web3/Wallet Signatures
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BACKEND API LAYER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  FastAPI (http://localhost:8000)                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚  â”‚  â”‚  Auth      â”‚  â”‚  Profile   â”‚  â”‚  Events    â”‚            â”‚   â”‚
â”‚  â”‚  â”‚  Routes    â”‚  â”‚  Routes    â”‚  â”‚  Routes    â”‚            â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚   â”‚
â”‚  â”‚  â”‚  Matching  â”‚  â”‚  Connectionâ”‚  â”‚  Web3      â”‚            â”‚   â”‚
â”‚  â”‚  â”‚  Routes    â”‚  â”‚  Routes    â”‚  â”‚  Service   â”‚            â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                    â”‚
         â”‚                    â”‚                    â”‚
         â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL     â”‚  â”‚  OpenAI API  â”‚  â”‚   Base Blockchain   â”‚
â”‚   Database       â”‚  â”‚  (GPT-4)     â”‚  â”‚   (Smart Contracts) â”‚
â”‚                  â”‚  â”‚              â”‚  â”‚                     â”‚
â”‚  - users         â”‚  â”‚  AI Analysis â”‚  â”‚  - ProfileNFT       â”‚
â”‚  - profiles      â”‚  â”‚  - Goals     â”‚  â”‚  - ConnectionNFT    â”‚
â”‚  - events        â”‚  â”‚  - Intuition â”‚  â”‚  - PesoBytes        â”‚
â”‚  - check_ins     â”‚  â”‚  - Philosophyâ”‚  â”‚                     â”‚
â”‚  - matches       â”‚  â”‚  - Expect.   â”‚  â”‚                     â”‚
â”‚  - connections   â”‚  â”‚  - Leisure   â”‚  â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ User Flow Diagram

### Phase 1: Onboarding
```
User Opens App
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Connect Wallet  â”‚ â—„â”€â”€ Coinbase Wallet / MetaMask
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Conversational Onboarding            â”‚
â”‚                                          â”‚
â”‚ "What are your goals in life?"          â”‚
â”‚ "How do you make decisions?"            â”‚
â”‚ "What's your worldview?"                â”‚
â”‚ "What do you want from connections?"    â”‚
â”‚ "How do you spend leisure time?"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenAI GPT-4 Analysis                   â”‚
â”‚                                          â”‚
â”‚ Processes answers                        â”‚
â”‚ Generates scores (0-100) for:           â”‚
â”‚   â€¢ Goals                                â”‚
â”‚   â€¢ Intuition                            â”‚
â”‚   â€¢ Philosophy                           â”‚
â”‚   â€¢ Expectations                         â”‚
â”‚   â€¢ Leisure Time                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mint ProfileNFT (Soulbound)             â”‚
â”‚                                          â”‚
â”‚ NFT metadata stored on-chain            â”‚
â”‚ Contains: dimensions, wallet, timestamp  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
   Profile Created!
```

### Phase 2: Event Experience
```
User Arrives at Event
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Check In                                 â”‚
â”‚                                          â”‚
â”‚ â€¢ Tap "Check In" button                 â”‚
â”‚ â€¢ Location captured (GPS coords)        â”‚
â”‚ â€¢ Timestamp recorded                    â”‚
â”‚ â€¢ Stored in database                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Be Present at Event                     â”‚
â”‚                                          â”‚
â”‚ â€¢ Put phone away                        â”‚
â”‚ â€¢ Enjoy the experience                  â”‚
â”‚ â€¢ Make organic connections IRL          â”‚
â”‚ â€¢ System tracks proximity/time          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Check Out                                â”‚
â”‚                                          â”‚
â”‚ â€¢ Tap "Check Out" when leaving          â”‚
â”‚ â€¢ Duration calculated                   â”‚
â”‚ â€¢ Proximity data processed              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
   Event Complete
```

### Phase 3: Post-Event Matching
```
After Event Ends
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Matching Algorithm Runs         â”‚
â”‚                                          â”‚
â”‚ For each pair of users at event:        â”‚
â”‚   1. Calculate proximity overlap        â”‚
â”‚   2. Compare 5 dimensions               â”‚
â”‚   3. Check intention alignment          â”‚
â”‚   4. Generate compatibility score       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Compatibility Score Formula              â”‚
â”‚                                          â”‚
â”‚ Score = (dimension_alignment Ã— 0.4) +   â”‚
â”‚         (intention_overlap Ã— 0.3) +     â”‚
â”‚         (proximity_time Ã— 0.2) +        â”‚
â”‚         (ml_learning_factor Ã— 0.1)      â”‚
â”‚                                          â”‚
â”‚ Range: 0-100                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Receives Top 5 Matches              â”‚
â”‚                                          â”‚
â”‚ Match Card Shows:                        â”‚
â”‚   â€¢ Username/wallet preview             â”‚
â”‚   â€¢ Compatibility score (e.g. 87%)      â”‚
â”‚   â€¢ Dimension breakdown                 â”‚
â”‚   â€¢ Shared intentions                   â”‚
â”‚   â€¢ Time overlapped at event            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
   User Reviews Matches
```

### Phase 4: Connection & NFT Minting
```
User Reviews Match
      â”‚
      â”œâ”€â”€â”€â”€â”€â–º Reject â”€â”€â–º Match status: REJECTED
      â”‚                  (No action, private)
      â”‚
      â””â”€â”€â”€â”€â”€â–º Accept
              â”‚
              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Wait for Other User â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€â”€â”€â”€â”€â–º Other Rejects â”€â”€â–º No connection made
              â”‚
              â””â”€â”€â”€â”€â”€â–º Other Accepts
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ MUTUAL MATCH! ğŸ‰                     â”‚
              â”‚                                       â”‚
              â”‚ Both users accepted each other       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Smart Contract: Mint ConnectionNFT   â”‚
              â”‚                                       â”‚
              â”‚ â€¢ Co-owned by both users             â”‚
              â”‚ â€¢ Stores compatibility score         â”‚
              â”‚ â€¢ Stores event data                  â”‚
              â”‚ â€¢ Stores timestamp                   â”‚
              â”‚ â€¢ Metadata on IPFS                   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Smart Contract: Distribute $PESO     â”‚
              â”‚                                       â”‚
              â”‚ Base reward: 10 PESO                 â”‚
              â”‚ Bonus (if score â‰¥ 90): +5 PESO       â”‚
              â”‚                                       â”‚
              â”‚ Both users receive tokens            â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
                  Connection Made!
              (Can now message/interact)
```

---

## ğŸ§® Matching Algorithm Detail

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   MATCHING ALGORITHM                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

INPUT: User A, User B (both attended same event)

STEP 1: Calculate Dimension Alignment
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ For each dimension (Goals, Intuition,  â”‚
â”‚ Philosophy, Expectations, Leisure):    â”‚
â”‚                                         â”‚
â”‚ alignment = 100 - |scoreA - scoreB|    â”‚
â”‚                                         â”‚
â”‚ Example:                                â”‚
â”‚   User A Goals: 75                     â”‚
â”‚   User B Goals: 82                     â”‚
â”‚   Alignment: 100 - |75-82| = 93        â”‚
â”‚                                         â”‚
â”‚ Average all 5 dimension alignments     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 2: Calculate Intention Overlap
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ intentions_A = ["networking", "fun"]   â”‚
â”‚ intentions_B = ["networking", "learn"] â”‚
â”‚                                         â”‚
â”‚ shared = ["networking"]                â”‚
â”‚ overlap = (1 shared / 2 total) = 50%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 3: Calculate Proximity Overlap
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User A at event: 7pm-10pm (3 hours)    â”‚
â”‚ User B at event: 8pm-11pm (3 hours)    â”‚
â”‚                                         â”‚
â”‚ Overlap window: 8pm-10pm (2 hours)     â”‚
â”‚ proximity_score = (2 / 3) Ã— 100 = 67   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 4: ML Learning Factor (Future)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ After 10+ connections, analyze:        â”‚
â”‚   - Who user actually accepted         â”‚
â”‚   - Who they rejected                  â”‚
â”‚   - Adjust weights accordingly         â”‚
â”‚                                         â”‚
â”‚ Refines "stated vs revealed preference"â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FINAL CALCULATION:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ compatibility_score =                  â”‚
â”‚   (dimension_alignment Ã— 0.4) +        â”‚
â”‚   (intention_overlap Ã— 0.3) +          â”‚
â”‚   (proximity_overlap Ã— 0.2) +          â”‚
â”‚   (ml_factor Ã— 0.1)                    â”‚
â”‚                                         â”‚
â”‚ Result: 0-100 score                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OUTPUT: Compatibility Score + Dimension Breakdown
```

---

## ğŸ” Data Flow & Security

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA STORAGE                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OFF-CHAIN (PostgreSQL Database)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ User wallet addresses            â”‚
â”‚ â€¢ Profile dimension scores         â”‚
â”‚ â€¢ Intentions                       â”‚
â”‚ â€¢ Event check-in/out data          â”‚
â”‚ â€¢ Match records (before acceptance)â”‚
â”‚ â€¢ Private user preferences         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ When mutual acceptance occurs...
      â”‚
      â–¼
ON-CHAIN (Base Blockchain)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ ProfileNFT (soulbound to wallet) â”‚
â”‚ â€¢ ConnectionNFT (co-owned)         â”‚
â”‚ â€¢ $PESO token balances             â”‚
â”‚ â€¢ Transaction history              â”‚
â”‚ â€¢ IPFS metadata hashes             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SECURITY MODEL:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Wallet signatures for auth       â”‚
â”‚ â€¢ JWT tokens for API sessions      â”‚
â”‚ â€¢ Private keys never touch server  â”‚
â”‚ â€¢ Match data encrypted             â”‚
â”‚ â€¢ NFT metadata on IPFS (immutable) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Smart Contract Interactions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SMART CONTRACTS ON BASE                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. ProfileNFT.sol
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ function mint(address user)        â”‚
â”‚   â†’ Mints soulbound NFT            â”‚
â”‚   â†’ One per wallet                 â”‚
â”‚   â†’ Non-transferable               â”‚
â”‚   â†’ Stores profile metadata hash   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. ConnectionNFT.sol
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ function mintConnection(           â”‚
â”‚   address userA,                   â”‚
â”‚   address userB,                   â”‚
â”‚   uint256 compatScore,             â”‚
â”‚   uint256 eventId                  â”‚
â”‚ )                                  â”‚
â”‚   â†’ Mints co-owned NFT             â”‚
â”‚   â†’ Both users are owners          â”‚
â”‚   â†’ Stores connection data         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. PesoBytes.sol (ERC20)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ function distributeReward(         â”‚
â”‚   address userA,                   â”‚
â”‚   address userB,                   â”‚
â”‚   uint256 compatScore              â”‚
â”‚ )                                  â”‚
â”‚   â†’ Base: 10 PESO each             â”‚
â”‚   â†’ Bonus: +5 PESO if score â‰¥ 90   â”‚
â”‚   â†’ Transfers from treasury        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Frontend Component Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND PAGES                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

/ (Landing)
â”œâ”€â”€ Hero Section
â”œâ”€â”€ Feature Cards (5 Dimensions, NFTs, $PESO)
â”œâ”€â”€ Connect Wallet Button
â””â”€â”€ How It Works

/profile
â”œâ”€â”€ Profile Header (wallet, username)
â”œâ”€â”€ 5 Dimensions Visualization
â”‚   â””â”€â”€ Radar/Bar Chart
â”œâ”€â”€ Intentions Tags
â”œâ”€â”€ Stats (connections made, $PESO earned)
â””â”€â”€ Edit Profile Button

/events
â”œâ”€â”€ Active Events List
â”‚   â”œâ”€â”€ Event Card
â”‚   â”‚   â”œâ”€â”€ Venue Name
â”‚   â”‚   â”œâ”€â”€ Time/Date
â”‚   â”‚   â”œâ”€â”€ Current Attendees
â”‚   â”‚   â””â”€â”€ Check In Button
â”‚   â””â”€â”€ ...
â””â”€â”€ Past Events History

/event/:id
â”œâ”€â”€ Event Details
â”œâ”€â”€ Check In/Out Status
â”œâ”€â”€ Live Attendee Count
â””â”€â”€ Proximity Timer

/matches
â”œâ”€â”€ Pending Matches Feed
â”‚   â”œâ”€â”€ Match Card
â”‚   â”‚   â”œâ”€â”€ Compatibility Score Ring
â”‚   â”‚   â”œâ”€â”€ Dimension Breakdown
â”‚   â”‚   â”œâ”€â”€ Shared Intentions
â”‚   â”‚   â”œâ”€â”€ Accept/Reject Buttons
â”‚   â”‚   â””â”€â”€ ...
â””â”€â”€ Match History

/connections
â”œâ”€â”€ Active Connections Grid
â”‚   â”œâ”€â”€ Connection Card
â”‚   â”‚   â”œâ”€â”€ Other User Info
â”‚   â”‚   â”œâ”€â”€ Compatibility Score
â”‚   â”‚   â”œâ”€â”€ Event Where You Met
â”‚   â”‚   â”œâ”€â”€ View NFT Button
â”‚   â”‚   â””â”€â”€ Message Button
â””â”€â”€ ConnectionNFT Gallery View
```

---

## ğŸ”„ Real-Time Updates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              REAL-TIME EVENT FLOW (Future)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

WebSocket Connection (Future Enhancement)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ During Event:                      â”‚
â”‚   â€¢ Live attendee count updates    â”‚
â”‚   â€¢ Proximity notifications        â”‚
â”‚   â€¢ "Someone with 95% match here!" â”‚
â”‚                                     â”‚
â”‚ Post-Event:                         â”‚
â”‚   â€¢ New match notifications        â”‚
â”‚   â€¢ Acceptance notifications       â”‚
â”‚   â€¢ NFT minting confirmations      â”‚
â”‚   â€¢ $PESO distribution alerts      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Current: Polling (refresh to see updates)
Future: WebSockets for real-time push notifications
```

---

## ğŸ’¾ Database Schema

```
users
â”œâ”€â”€ id (primary key)
â”œâ”€â”€ wallet_address (unique)
â”œâ”€â”€ username
â”œâ”€â”€ profile_nft_id
â”œâ”€â”€ created_at
â””â”€â”€ updated_at

user_profiles
â”œâ”€â”€ id (primary key)
â”œâ”€â”€ user_id (foreign key â†’ users)
â”œâ”€â”€ goals (float 0-100)
â”œâ”€â”€ intuition (float 0-100)
â”œâ”€â”€ philosophy (float 0-100)
â”œâ”€â”€ expectations (float 0-100)
â”œâ”€â”€ leisure_time (float 0-100)
â”œâ”€â”€ intentions (JSON array)
â”œâ”€â”€ bio
â””â”€â”€ profile_confidence (improves over time)

events
â”œâ”€â”€ id (primary key)
â”œâ”€â”€ event_id (unique)
â”œâ”€â”€ venue_name
â”œâ”€â”€ latitude
â”œâ”€â”€ longitude
â”œâ”€â”€ start_time
â””â”€â”€ end_time

event_check_ins
â”œâ”€â”€ id (primary key)
â”œâ”€â”€ user_id (foreign key â†’ users)
â”œâ”€â”€ event_id (foreign key â†’ events)
â”œâ”€â”€ check_in_time
â”œâ”€â”€ check_out_time
â”œâ”€â”€ latitude
â””â”€â”€ longitude

matches
â”œâ”€â”€ id (primary key)
â”œâ”€â”€ event_id (foreign key â†’ events)
â”œâ”€â”€ user_a_id (foreign key â†’ users)
â”œâ”€â”€ user_b_id (foreign key â†’ users)
â”œâ”€â”€ compatibility_score (0-100)
â”œâ”€â”€ proximity_overlap_minutes
â”œâ”€â”€ dimension_alignment (JSON)
â”œâ”€â”€ status (PENDING/ACCEPTED/REJECTED)
â”œâ”€â”€ created_at
â”œâ”€â”€ user_a_responded_at
â””â”€â”€ user_b_responded_at

connections
â”œâ”€â”€ id (primary key)
â”œâ”€â”€ match_id (foreign key â†’ matches)
â”œâ”€â”€ user_a_id (foreign key â†’ users)
â”œâ”€â”€ user_b_id (foreign key â†’ users)
â”œâ”€â”€ event_id (foreign key â†’ events)
â”œâ”€â”€ connection_nft_id (blockchain)
â”œâ”€â”€ transaction_hash
â”œâ”€â”€ ipfs_metadata_uri
â”œâ”€â”€ pesobytes_earned
â””â”€â”€ created_at
```

---

## ğŸ¨ Color-Coded Architecture Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  TECHNOLOGY LAYERS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸŸ£ FRONTEND (Next.js)
   â€¢ User Interface
   â€¢ Wallet Integration
   â€¢ API Consumption

ğŸ”µ BACKEND (FastAPI)
   â€¢ Business Logic
   â€¢ Authentication
   â€¢ API Endpoints
   â€¢ Matching Algorithm

ğŸŸ¢ DATABASE (PostgreSQL)
   â€¢ User Data
   â€¢ Events
   â€¢ Matches
   â€¢ Private Info

ğŸŸ¡ AI LAYER (OpenAI)
   â€¢ Profile Analysis
   â€¢ Dimension Scoring
   â€¢ Learning Refinement

ğŸ”´ BLOCKCHAIN (Base)
   â€¢ ProfileNFT
   â€¢ ConnectionNFT
   â€¢ $PESO Token
   â€¢ Immutable Records
```

---

**Created**: December 2024
**Last Updated**: December 2024
